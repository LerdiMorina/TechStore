<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Store</title>
    <link rel="stylesheet" href="Store.css">
    <script>
        fetch('Navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar-placeholder').innerHTML = data;
            })
            .catch(error => console.error('Error loading Navbar:', error));
    </script>
</head>
<body>
    <header> 
        <div id="navbar-placeholder"></div>
    </header>

    <div class="dropdowns">
        <label for="itemsPerPage">Items per page:</label>
        <select id="itemsPerPage" onchange="updateItemsPerPage()">
            <option value="4">4</option>
            <option value="8">8</option>
            <option value="12">12</option>
            <option value="16">16</option>
        </select>

        <label for="sortOptions">Sort by:</label>
        <select id="sortOptions" onchange="sortProducts()">
            <option value="lowToHigh">Price: Low to High</option>
            <option value="highToLow">Price: High to Low</option>
        </select>
    </div>

    <section id="productGrid"></section>

    <script>
        const products = [
            { name: "Product 1", price: 100, discount: 10 },
            { name: "Product 2", price: 200, discount: 15 },
            { name: "Product 3", price: 300, discount: 20 },
        ];

function displayProducts(itemsPerPage) {
    const productGrid = document.getElementById('productGrid');
    productGrid.innerHTML = "";
    const items = products.slice(0, itemsPerPage); 
    items.forEach(product => {
        const discountedPrice = product.price * (1 - product.discount / 100);
        productGrid.innerHTML += `
            <div class="product-card">
                <div class="product-image">
                    <img src="${product.image}" alt="${product.name}">
                </div>
                <div class="product-info">
                    <h2>${product.name}</h2>
                    <p class="specs">Specs: ${product.specs}</p>
                </div>
                <div class="price-info">
                    <p class="original-price">$${product.price.toFixed(2)}</p>
                    <p class="discount">Discount: ${product.discount}%</p>
                    <p class="total-price">Price after Discount: $${discountedPrice.toFixed(2)}</p>
                    <button class="cart-btn">Add to Cart</button>
                    <button class="buy-btn">Buy Now</button>
                </div>
            </div>
        `;
    });
}

function updateItemsPerPage() {
    const itemsPerPage = parseInt(document.getElementById('itemsPerPage').value, 10); 
    displayProducts(itemsPerPage);
}

function sortProducts() {
    const sortBy = document.getElementById('sortOptions').value;
    if (sortBy === "lowToHigh") {
        products.sort((a, b) => a.price - b.price);
    } else if (sortBy === "highToLow") {
        products.sort((a, b) => b.price - a.price);
    } else if (sortBy === "discount") {
        products.sort((a, b) => b.discount - a.discount);
    }
    updateItemsPerPage(); 

displayProducts(4);
}

document.getElementById('itemsPerPage').addEventListener('change', updateItemsPerPage);
document.getElementById('sortOptions').addEventListener('change', sortProducts);


    </script>
</body>
</html>
